{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"blocks\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"serverSideRender\"]}"],"names":["registerBlockType","title","description","icon","category","attributes","content","type","default","mediaURL","mediaAlt","edit","props","setAttributes","className","isSelected","handlerOnChangeInput","newContent","handlerOnSelectMediaUpload","image","sizes","full","url","alt","open","save"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import { registerBlockType } from '@wordpress/blocks';\nimport { TextControl, PanelBody, PanelRow } from '@wordpress/components';\nimport { InspectorControls, MediaUpload } from '@wordpress/block-editor'; // Mejorar experiencia con SSR\nimport ServerSideRender from '@wordpress/server-side-render';\n\n\nregisterBlockType(\n\t'pgb/basic-block', // as registered ad functions.php\n\t{\n\t\ttitle: 'Basic Block',\n\t\tdescription: 'Este es nuestro primer bloque',\n\t\ticon: 'smiley',\n\t\tcategory: 'layout',\n\t\tattributes: {\n\t\t\tcontent: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tdefault: \"Hello World\"\n\t\t\t},\n\t\t\tmediaURL: {type: 'string'},\n\t\t\tmediaAlt: {type: 'string'}\n\t\t},\n\n\t\t// Mostrar como lo vamos a ver en el editor\n\t\tedit: (props) => {\n\t\t\t// Todos los bloques tienen estas 4 propiedades\n\t\t\t// const { attributes : {content, mediaURL, mediaAlt}, setAttributes, className, isSelected} = props;\n\t\t\tconst { attributes : {content}, setAttributes, className, isSelected} = props;\n\n\t\t\t// Función para guardar el atributo content\n\t\t\tconst handlerOnChangeInput = (newContent) => {\n\t\t\t\tsetAttributes({content: newContent }) // cada vez que cambie el valor del input, lo veamos reflejado en los atributos\n\t\t\t}\n\n\t\t\t// Funcion para guardar el atributo mediaURL y mediaAlt\n\t\t\tconst handlerOnSelectMediaUpload = (image) => {\n\t\t\t\tsetAttributes({\n\t\t\t\t\tmediaURL: image.sizes.full.url,\n\t\t\t\t\tmediaAlt: image.alt\n\t\t\t\t})\n\t\t\t}\n\n\t\t\treturn <>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody // Primer panel en el sidebar\n\t\t\t\t\t\ttitle=\"Modificar texto del Bloque Básico\"\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t> \n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel=\"Complete el campo\" // Indicaciones del campo\n\t\t\t\t\t\t\t\tvalue={ content } // Asignacion del atributo correspondiente\n\t\t\t\t\t\t\t\tonChange= {handlerOnChangeInput} // Asignacion de funcion para gestino el evento onchange\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelBody // Segundo panel en el sidebar\n\t\t\t\t\t\ttitle=\"Selecciona una imagen\"\n\t\t\t\t\t\tinitialOpen = {true}\n\t\t\t\t\t>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\tonSelect = {handlerOnSelectMediaUpload } // Asignación de función para gestionar el evento OnSelect\n\t\t\t\t\t\t\t\ttype = \"image\" // Limita los tipos de archivos que se pueden seleccionar\n\t\t\t\t\t\t\t\t// Se envia el evento open y el renderizado del elemento que desencadenará la apertura de la librería, en este caso un btn\n\t\t\t\t\t\t\t\trender = { ({open}) => {\n\t\t\t\t\t\t\t\t\t// Agregamos las clases de los btns de WP habituales para que mantenga el estilo en el editor\n\t\t\t\t\t\t\t\t\treturn <Button className=\"components-icon-button image-block-btn is-button is-default is-large\" onClick={open}>\n\t\t\t\t\t\t\t\t\t\tElegir una imagen\n\t\t\t\t\t\t\t\t\t</Button>;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<ServerSideRender // renderizado del bloque dinamico\n\t\t\t\t\tblock=\"pgb/basic-block\" // Nombre del bloque\n\t\t\t\t\tattributes= {props.attributes} // Se envían todos los atributos\n\t\t\t\t/>\n\t\t\t</>\n\t\t}, \n\t\t// ahora que usamos bloques dinamicos, hacemos save: null!\n\t\tsave: () => null\n\t\t\n\t}\n)","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"blocks\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"serverSideRender\"]; }());"],"sourceRoot":""}